{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ElForm, ElFormItem, ElInput, ElButton } from 'element-plus';\nexport default {\n  components: {\n    ElForm,\n    ElFormItem,\n    ElInput,\n    ElButton\n  },\n  data() {\n    return {\n      admin: {\n        adminname: '',\n        password: ''\n      },\n      rules: {\n        adminname: [{\n          required: true,\n          message: \"请输入用户名\",\n          trigger: \"blur\"\n        }, {\n          min: 3,\n          max: 10,\n          message: \"长度在 3 到 5 个字符\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          required: true,\n          message: \"请输入密码\",\n          trigger: \"blur\"\n        }, {\n          min: 1,\n          max: 20,\n          message: \"长度在 1 到 20 个字符\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n  methods: {\n    login() {\n      this.$refs.adminForm.validate(valid => {\n        if (valid) {\n          this.request.post(\"http://localhost:9090/admin/login\", this.admin).then(res => {\n            if (res.code === \"200\") {\n              localStorage.setItem(\"DL\", \"地龙兽\");\n              localStorage.setItem(\"admin\", JSON.stringify(res.data));\n              this.$router.push(\"/\");\n              this.$message.success(\"登录成功\");\n            } else {\n              this.$message.error(res.msg);\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["ElForm","ElFormItem","ElInput","ElButton","components","data","admin","adminname","password","rules","required","message","trigger","min","max","methods","login","$refs","adminForm","validate","valid","request","post","then","res","code","localStorage","setItem","JSON","stringify","$router","push","$message","success","error","msg"],"sources":["src/views/MangeView/AdminLogin.vue"],"sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"login wrap\">\r\n      <el-form :model=\"admin\" :rules=\"rules\" ref=\"adminForm\" label-width=\"0\">\r\n        <el-form-item prop=\"adminname\">\r\n          <el-input v-model=\"admin.adminname\" placeholder=\"请输入用户名\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n          <el-input type=\"password\" v-model=\"admin.password\" placeholder=\"请输入密码\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" native-type=\"submit\" @click.prevent=\"login\">登录</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ElForm, ElFormItem, ElInput, ElButton } from 'element-plus';\r\n\r\nexport default {\r\n  components: {\r\n    ElForm,\r\n    ElFormItem,\r\n    ElInput,\r\n    ElButton\r\n  },\r\n  data() {\r\n    return {\r\n      admin: {\r\n        adminname: '',\r\n        password: ''\r\n      },\r\n      rules: {\r\n        adminname: [\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n          { min: 3, max: 10, message: \"长度在 3 到 5 个字符\", trigger: \"blur\" },\r\n        ],\r\n        password: [\r\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\r\n          { min: 1, max: 20, message: \"长度在 1 到 20 个字符\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    login() {\r\n      this.$refs.adminForm.validate((valid) => {\r\n        if (valid) {\r\n          this.request.post(\"http://localhost:9090/admin/login\", this.admin).then((res) => {\r\n            if (res.code === \"200\") {\r\n              localStorage.setItem(\"DL\", \"地龙兽\");\r\n              localStorage.setItem(\"admin\", JSON.stringify(res.data));\r\n              this.$router.push(\"/\");\r\n              this.$message.success(\"登录成功\");\r\n            } else {\r\n              this.$message.error(res.msg);\r\n            }\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.wrapper {\r\n  height: 100vh;\r\n  background: #34495e; /* #34495e */\r\n  overflow: hidden;\r\n}\r\n\r\n.wrap {\r\n  margin: 0 auto;\r\n}\r\n.login {\r\n  width: 300px;\r\n  margin-top: 40vh;\r\n}\r\n.login input[type=\"text\"],\r\n.login input[type=\"password\"] {\r\n  opacity: 1;\r\n  display: block;\r\n  border: none;\r\n  outline: none;\r\n  width: 280px;\r\n  padding: 10px;\r\n  margin: 20px 0 0 0;\r\n  border-radius: 2px;\r\n}\r\n.login input[type=\"text\"] {\r\n  animation: bounce 1s;\r\n}\r\n.login input[type=\"text\"]:focus:valid {\r\n  box-shadow: 0 0 0 10000px #2ecc71;\r\n}\r\n.login input[type=\"text\"]:focus:valid ~ input[type=\"button\"] {\r\n  background: #27ae60;\r\n  color: #2ecc71;\r\n}\r\n.login input[type=\"text\"]:focus:valid ~ input[type=\"submit\"] {\r\n  color: #2ecc71;\r\n}\r\n.login input[type=\"text\"]:invalid {\r\n  box-shadow: 0 0 0 10000px #e74c3c;\r\n}\r\n.login input[type=\"text\"]:invalid ~ input[type=\"button\"] {\r\n  background: #c0392b;\r\n  color: #e74c3c;\r\n}\r\n.login input[type=\"text\"]:invalid ~ input[type=\"submit\"] {\r\n  color: #e74c3c;\r\n}\r\n.login input[type=\"password\"] {\r\n  animation: bounce1 1.3s;\r\n}\r\n.login input[type=\"submit\"],\r\n.login input[type=\"button\"] {\r\n  border: 0;\r\n  outline: 0;\r\n  padding: 13px 18px;\r\n  margin: 40px 0 0 0;\r\n  border-radius: 2px;\r\n  font-weight: 600;\r\n  animation: bounce2 1.6s;\r\n}\r\n.login input[type=\"submit\"] {\r\n  float: right;\r\n  background: #fff;\r\n  color: #34495e;\r\n  outline: none;\r\n}\r\n.login input[type=\"button\"] {\r\n  background: #2c3e50;\r\n  color: #34495e;\r\n}\r\n@keyframes bounce {\r\n  0% {\r\n    transform: translateY(-250px);\r\n    opacity: 0;\r\n  }\r\n}\r\n@keyframes bounce1 {\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  40% {\r\n    transform: translateY(-100px);\r\n    opacity: 0;\r\n  }\r\n}\r\n@keyframes bounce2 {\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  70% {\r\n    transform: translateY(-20px);\r\n    opacity: 0;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";AAoBA,SAAAA,MAAA,EAAAC,UAAA,EAAAC,OAAA,EAAAC,QAAA;AAEA;EACAC,UAAA;IACAJ,MAAA;IACAC,UAAA;IACAC,OAAA;IACAC;EACA;EACAE,KAAA;IACA;MACAC,KAAA;QACAC,SAAA;QACAC,QAAA;MACA;MACAC,KAAA;QACAF,SAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAC,GAAA;UAAAC,GAAA;UAAAH,OAAA;UAAAC,OAAA;QAAA,EACA;QACAJ,QAAA,GACA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAC,GAAA;UAAAC,GAAA;UAAAH,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAG,OAAA;IACAC,MAAA;MACA,KAAAC,KAAA,CAAAC,SAAA,CAAAC,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,KAAAC,OAAA,CAAAC,IAAA,2CAAAhB,KAAA,EAAAiB,IAAA,CAAAC,GAAA;YACA,IAAAA,GAAA,CAAAC,IAAA;cACAC,YAAA,CAAAC,OAAA;cACAD,YAAA,CAAAC,OAAA,UAAAC,IAAA,CAAAC,SAAA,CAAAL,GAAA,CAAAnB,IAAA;cACA,KAAAyB,OAAA,CAAAC,IAAA;cACA,KAAAC,QAAA,CAAAC,OAAA;YACA;cACA,KAAAD,QAAA,CAAAE,KAAA,CAAAV,GAAA,CAAAW,GAAA;YACA;UACA;QACA;UACA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}